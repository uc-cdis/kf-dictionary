$schema: "http://json-schema.org/draft-04/schema#"

id: "participant"
title: Participant
type: object
namespace: https://dcf-interop.kidsfirstdrc.org/
category: administrative
program: '*'
project: '*'
description: >
  The collection of all data related to a specific subject in the
  context of a specific project.
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - created_datetime
  - updated_datetime
  - state

links:
  - name: projects
    backref: participants
    label: member_of
    target_type: project
    multiplicity: many_to_one
    required: true
  - name: families
    backref: participants
    label: member_of
    target_type: family
    multiplicity: many_to_one
    required: false

required:
  - type
  - submitter_id
  - projects

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

# Case properties
properties:
  $ref_ubiq: "_definitions.yaml#/ubiquitous_properties"

  family_id:
    description: "Id for the participants grouped by family"
    type: string

  alias_group:
    description: "For potential future use, currently not populated with data"
    type: string 

  available_data_types:
    description: "The File data types available for the participants."
    type: string 

  ethnicity:
    description: "An individualâ€™s self-described social and cultural grouping, specifically whether an individual describes themselves as Hispanic or Latino."
    enum:
      - "Not Hispanic or Latino"
      - "Hispanic or Latino"
      - "Not Reported"
      - "Reported Unknown"

  gender:
    description: "Text designations that identify gender. Gender is described as the assemblage of properties that distinguish people on the basis of their societal roles. This value is self-reported and may come from a form, questionnaire, interview, etc."
    enum:
      - "Female"
      - "Male"
      - "Reported Unknown"
      - "Not Reported"

  is_proband:
    description: "Denotes whether participant is proband of study.  The participant serving as the starting point for enrollment into study, often the first family member seeking medical attention."
    type: boolean
  
  race:
    description: "An arbitrary classification of a taxonomic group that is a division of a species. It is characterized by shared hereditary, physical attributes and behavior, and in the case of humans, by common history, nationality, or geographic distribution."
    enum:
      - "White"
      - "American Indian or Alaska Native"
      - "Black or African American"
      - "Asian"
      - "Native Hawaiian or Other Pacific Islander"
      - "Other"
      - "More Than One Race"
      - "Reported Unknown"
      - "Not Reported"

  species:
    description: "species"
    type: string 

  projects:
    $ref: "_definitions.yaml#/to_one_project"
  families:
    $ref: "_definitions.yaml#/to_one"
